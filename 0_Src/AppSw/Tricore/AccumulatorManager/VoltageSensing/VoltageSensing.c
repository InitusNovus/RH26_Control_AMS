/*
 * VoltageSensing.c
 *
 *  Created on: 2019. 10. 18.
 *      Author: Dua
 */


/******************************************************************************/
/*----------------------------------Includes----------------------------------*/
/******************************************************************************/
#include "VoltageSensing.h"
#include "HLD.h"
/******************************************************************************/
/*-----------------------------------Macros-----------------------------------*/
/******************************************************************************/

/******************************************************************************/
/*--------------------------------Enumerations--------------------------------*/
/******************************************************************************/


/******************************************************************************/
/*-----------------------------Data Structures--------------------------------*/
/******************************************************************************/
typedef struct
{
	HLD_Vadc_Channel adcChannel;
	HLD_Vadc_Data data;
	float32 voltage;
}VoltageSensor_t;

/******************************************************************************/
/*------------------------------Global variables------------------------------*/
/******************************************************************************/
VoltageSensor_t VoltageSensor0;

/******************************************************************************/
/*-------------------------Function Prototypes--------------------------------*/
/******************************************************************************/


/******************************************************************************/
/*------------------------Private Variables/Constants-------------------------*/
/******************************************************************************/


/******************************************************************************/
/*-------------------------Function Implementations---------------------------*/
/******************************************************************************/
void VoltageSensing_init(void)
{
	HLD_Vadc_Channel_Config adcConfig;
	HLD_Vadc_initChannelConfig(&adcConfig);
	adcConfig.channelIn = &HLD_Vadc_AN0_G0CH0_X102_12;
	HLD_Vadc_initChannel(&VoltageSensor0.adcChannel, &adcConfig);
}


void VoltageSensing_run(void)
{
	HLD_Vadc_getData(&VoltageSensor0.data, &VoltageSensor0.adcChannel);
}
